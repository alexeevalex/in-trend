---
import ExpertQACard from "./ExpertQACard.astro";

const imgSrcset = [
  "/images/our-services/experts-qa/cream.jpg",
  "/images/our-services/experts-qa/glass.jpg",
  "/images/our-services/experts-qa/cream.jpg",
  "/images/our-services/experts-qa/hair.jpg",
];

let i = 0;
---

<section class="bg-beige-300">
  <h2
    class="px-5 pt-12 text-center text-2xl font-semibold capitalize tracking-wide text-brown-600"
  >
    Expert Q&A
  </h2>
  <p class="mt-4 px-5 text-center text-xs">
    We ask all of our experts, what would they advise to those trying to get
    into aesthetic medicine.
  </p>

  <div class="splide mt-12 px-5 pb-16" id="expert-qa-section__carrousel">
    <div class="splide__track">
      <ul class="splide__list">
        <li class="splide__slide">
          <ExpertQACard
            imgSrc={imgSrcset[i++ % imgSrcset.length]!}
            quoteText="The range of possible causes put forward by researchers includes defects in the immune/nervous system and facial blood vessels. It can also be due to abnormal composition of your skin's microbes (the microbiome)."
            quoteAuthor="-Dr Justine Kluk"
          />
        </li>
        <li class="splide__slide">
          <ExpertQACard
            imgSrc={imgSrcset[i++ % imgSrcset.length]!}
            quoteText="The range of possible causes put forward by researchers includes defects in the immune/nervous system and facial blood vessels. It can also be due to abnormal composition of your skin's microbes (the microbiome)."
            quoteAuthor="-Dr Justine Kluk"
          />
        </li>
        <li class="splide__slide">
          <ExpertQACard
            imgSrc={imgSrcset[i++ % imgSrcset.length]!}
            quoteText="The range of possible causes put forward by researchers includes defects in the immune/nervous system and facial blood vessels. It can also be due to abnormal composition of your skin's microbes (the microbiome)."
            quoteAuthor="-Dr Justine Kluk"
          />
        </li>
        <li class="splide__slide">
          <ExpertQACard
            imgSrc={imgSrcset[i++ % imgSrcset.length]!}
            quoteText="The range of possible causes put forward by researchers includes defects in the immune/nervous system and facial blood vessels. It can also be due to abnormal composition of your skin's microbes (the microbiome)."
            quoteAuthor="-Dr Justine Kluk"
          />
        </li>
      </ul>
    </div>
  </div>
</section>

<script>
  // TODO: add modular stuff
  import { Splide } from "@splidejs/splide";
  import "@splidejs/splide/dist/css/splide.min.css";

  // TODO: (important) disable pause on hover?
  new Splide("#expert-qa-section__carrousel", {
    clones: 8,
    type: "loop",
    gap: "0.5rem",
    interval: 5000,
    autoplay: true,
    pagination: false,
    arrows: false,
    autoWidth: true,
    flickPower: 100,
  }).mount();
</script>
